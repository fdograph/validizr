;(function(e,t,n){"use strict";e.Validizr=function(e,r){this.defaults={delegateFields_change:true,delegateFields_keyup:true,delegateFields_custom:n,delegateBtn:true,submitBtn:n,disableBtn:true,validFormCallback:n,notValidFormCallBack:n,validInputCallback:n,notValidInputCallback:n,preValidation:n,postValidation:n,notValidClass:"invalid-input",aditionalInputs:n,customValidations:{},customErrorHandlers:{}};this.settings=t.extend(true,{},this.defaults,r);this.emailRegEx=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;this.fields='input:not([type="submit"]), select, textarea'+(this.settings.aditionalInputs?", "+this.settings.aditionalInputs:"");this.$form=t(e);this.$submitBtn=this.settings.submitBtn?this.settings.submitBtn:this.$form.find('input[type="submit"]');var i="";if(this.settings.delegateFields_change){i+="change.validizr "}if(this.settings.delegateFields_keyup){i+="keyup.validizr "}if(this.settings.delegateFields_custom){i+=this.settings.delegateFields_custom}if(this.settings.delegateFields_change||this.settings.delegateFields_keyup||this.settings.delegateFields_custom){this.$form.on(i,this.fields,{validizr:this},this.validateInput)}if(this.settings.delegateBtn){this.$submitBtn.on("click.validizr",{validizr:this},this.validateForm)}if(this.settings.disableBtn){this.$submitBtn.addClass("disabled").prop("disabled",true)}};e.Validizr.prototype={validateInput:function(e){var n=e.data.validizr,r=t(this),i=n.getInputType(r),s=r.val(),o=r.data("custom-validation"),u=function(){if(typeof n.settings.customValidations[o]==="function"){return n.settings.customValidations[o](r)}switch(i){case"email":return s&&n.emailRegEx.test(s);break;case"checkbox":return r.prop("checked");break;default:return s;break}}();if(r.hasClass(n.settings.notValidClass)){r.removeClass(n.settings.notValidClass)}if(typeof n.settings.preValidation==="function"){n.settings.preValidation(n.$form,r)}if((r.is("[required]")||r.hasClass("required"))&&!u){r.data("input_validity",false);n.youAreNotValid(r,n)}else{r.data("input_validity",true)}if(typeof n.settings.postValidation==="function"){n.settings.postValidation(n.$form,r)}if(n.isFormValid(n)&&n.settings.disableBtn){n.$submitBtn.removeClass("disabled").prop("disabled",false)}else if(n.settings.disableBtn){n.$submitBtn.addClass("disabled").prop("disabled",true)}},validateForm:function(e){e.preventDefault();var t=e.data.validizr;t.$form.find(t.fields).trigger("change.validizr");if(t.isFormValid(t)){if(typeof t.settings.validFormCallback==="function"){return t.settings.validFormCallback(t.$form)}return t.$form.submit()}else if(typeof t.settings.notValidFormCallBack==="function"){return t.settings.notValidFormCallBack(t.$form)}return false},isFormValid:function(e){var n=e.$form.find(e.fields),r=n.length,i=n.filter(function(){return t(this).data("input_validity")}).length,s=e.$form.find("."+e.settings.notValidClass).length;return r===i&&!s},youAreNotValid:function(e,t){var n=e.data("custom-error-validation");e.addClass(t.settings.notValidClass);if(typeof t.settings.customErrorHandlers[n]==="function"){return t.settings.customErrorHandlers[n](e)}if(typeof t.settings.notValidInputCallback==="function"){return t.settings.notValidInputCallback(e)}},getInputType:function(e){return e.attr("type")?e.attr("type"):e.get(0).tagName.toLowerCase()}};t.fn.validizr=function(n){return this.each(function(){var r=t(this);if(r.data("validizr")){return r.data("validizr")}var i=new e.Validizr(this,n);r.data("validizr",i)})}})(this,jQuery);